(self.webpackChunk_invoicebox_ui=self.webpackChunk_invoicebox_ui||[]).push([[1556],{"./node_modules/@mona-health/react-input-mask/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/@mona-health/react-input-mask/lib/react-input-mask.production.min.js")},"./node_modules/@mona-health/react-input-mask/lib/react-input-mask.production.min.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var e=__webpack_require__("./node_modules/react/index.js");__webpack_require__("./node_modules/prop-types/index.js");var t=__webpack_require__("./node_modules/invariant/browser.js");function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function i(e){return requestAnimationFrame(e)}function r(e){cancelAnimationFrame(e)}function a(e){var t=e.ownerDocument;return t.hasFocus()&&t.activeElement===e}function l(e){return null==e?void 0:e.ownerDocument}function o(e){var t,t1=null==(t=l(e))?void 0:t.defaultView;return!!t1&&e instanceof t1.HTMLElement}function u(t){return e.useCallback(function(){var e=t.current,n="undefined"!=typeof window&&o(e);if(!e||!n)return null;if("INPUT"!==e.nodeName&&(e=e.querySelector("input")),!e)throw Error("react-input-mask: inputComponent doesn't contain input node");return e},[t])}function s(t,n){var o,s,c,f=e.useRef({start:null,end:null}),h=u(t),g=e.useCallback(function(){var e,t,n;return{start:t=(e=h()).selectionStart,end:n=e.selectionEnd,length:n-t}},[h]),v=e.useCallback(function(){return f.current},[]),d=e.useCallback(function(e){var t,n,t1=h();t1&&a(t1)&&(t=e.start,void 0===(n=e.end)&&(n=t),t1.setSelectionRange(t,n),f.current=g())},[h,g]),m=e.useCallback(function(){f.current=g()},[g]),p=(o=e.useRef(null),s=e.useCallback(function(){null===o.current&&function e(){m(),o.current=i(e)}()},[m]),c=e.useCallback(function(){r(o.current),o.current=null},[]),e.useEffect(function(){o.current&&(c(),s())},[s,c]),e.useEffect(r,[]),[s,c]),k=p[0],P=p[1];return e.useLayoutEffect(function(){if(n){var e=h();return e.addEventListener("focus",k),e.addEventListener("blur",P),a(e)&&k(),function(){e.removeEventListener("focus",k),e.removeEventListener("blur",P),P()}}}),{getSelection:g,getLastSelection:v,setSelection:d}}function c(t,n){var i,r,i1=e.useRef(),r1=s(i1,n),a=r1.getSelection,l=r1.getLastSelection,o=r1.setSelection,c=(i=u(i1),r=e.useRef(t),{getValue:e.useCallback(function(){return i().value},[i]),getLastValue:e.useCallback(function(){return r.current},[]),setValue:e.useCallback(function(e){r.current=e;var t=i();t&&(t.value=e)},[i])}),f=c.getValue,h=c.getLastValue,g=c.setValue;return{inputRef:i1,getInputState:function(){return{value:f(),selection:a()}},getLastInputState:function(){return{value:h(),selection:l()}},setInputState:function(e){var t=e.value,n=e.selection;g(t),o(n)}}}__webpack_require__("./node_modules/warning/warning.js");var f=["disabled","onBlur","onChange","onFocus","onMouseDown","readOnly","value"],h={9:/[0-9]/,a:/[A-Za-z]/,"*":/[A-Za-z0-9]/},g=function(e){var t=this;this.isCharacterAllowedAtPosition=function(e,n){var i=t.maskOptions.maskPlaceholder;return!!t.isCharacterFillingPosition(e,n)||!!i&&i[n]===e},this.isCharacterFillingPosition=function(e,n){var i=t.maskOptions.mask;return!!e&&!(n>=i.length)&&(t.isPositionEditable(n)?new RegExp(i[n]).test(e):i[n]===e)},this.isPositionEditable=function(e){var n=t.maskOptions,i=n.mask,r=n.permanents;return e<i.length&&-1===r.indexOf(e)},this.isValueEmpty=function(e){return e.split("").every(function(e,n){return!t.isPositionEditable(n)||!t.isCharacterFillingPosition(e,n)})},this.isValueFilled=function(e){return t.getFilledLength(e)===t.maskOptions.lastEditablePosition+1},this.getDefaultSelectionForValue=function(e){var n=t.getFilledLength(e),i=t.getRightEditablePosition(n);return{start:i,end:i}},this.getFilledLength=function(e){return function(e,t){for(var n=e.length-1;n>=0;n--)if(t(e[n],n))return n;return -1}(e.split(""),function(e,n){return t.isPositionEditable(n)&&t.isCharacterFillingPosition(e,n)})+1},this.getStringFillingLengthAtPosition=function(e,n){return e.split("").reduce(function(e,n){return t.insertCharacterAtPosition(e,n,e.length)},function(e,t){void 0===t&&(t=1);for(var n="",i=0;i<t;i++)n+=" ";return n}(0,n)).length-n},this.getLeftEditablePosition=function(e){for(var n=e;n>=0;n--)if(t.isPositionEditable(n))return n;return null},this.getRightEditablePosition=function(e){for(var n=t.maskOptions.mask,i=e;i<n.length;i++)if(t.isPositionEditable(i))return i;return null},this.formatValue=function(e){var n=t.maskOptions,i=n.maskPlaceholder,r=n.mask;if(!i){for(e=t.insertStringAtPosition("",e,0);e.length<r.length&&!t.isPositionEditable(e.length);)e+=r[e.length];return e}return t.insertStringAtPosition(i,e,0)},this.clearRange=function(e,n,i){if(!i)return e;var r=n+i,a=t.maskOptions,l=a.maskPlaceholder,o=a.mask,u=e.split("").map(function(e,i){var a=t.isPositionEditable(i);return l||!(i>=r)||a?i<n||i>=r?e:a?l?l[i]:"":o[i]:""}).join("");return t.formatValue(u)},this.insertCharacterAtPosition=function(e,n,i){var r=t.maskOptions,a=r.mask,l=r.maskPlaceholder;if(i>=a.length)return e;var o=t.isCharacterAllowedAtPosition(n,i),u=t.isPositionEditable(i),s=t.getRightEditablePosition(i),c=l&&s?n===l[s]:null,f=e.slice(0,i);return!o&&u||(e=f+(o?n:a[i])),o||u||c||(e=t.insertCharacterAtPosition(e,n,i+1)),e},this.insertStringAtPosition=function(e,n,i){var r=t.maskOptions,a=r.mask,l=r.maskPlaceholder;if(!n||i>=a.length)return e;var o=n.split(""),u=t.isValueFilled(e)||!!l,s=e.slice(i);return(e=o.reduce(function(e,n){return t.insertCharacterAtPosition(e,n,e.length)},e.slice(0,i)),u)?e+=s.slice(e.length-i):t.isValueFilled(e)?e+=a.slice(e.length).join(""):e=s.split("").filter(function(e,n){return t.isPositionEditable(i+n)}).reduce(function(e,n){var i=t.getRightEditablePosition(e.length);return null===i?e:(t.isPositionEditable(e.length)||(e+=a.slice(e.length,i).join("")),t.insertCharacterAtPosition(e,n,e.length))},e),e},this.processChange=function(e,n){var i=t.maskOptions,r=i.mask,a=i.prefix,l=i.lastEditablePosition,o=e.value,u=e.selection,s=n.value,c=n.selection,f=o,h="",g=0,v=0,d=Math.min(c.start,u.start);return u.end>c.start?(h=f.slice(c.start,u.end),v=(g=t.getStringFillingLengthAtPosition(h,d))?c.length:0):f.length<s.length&&(v=s.length-f.length),f=s,v&&(1!==v||c.length||(d=c.start===u.start?t.getRightEditablePosition(u.start):t.getLeftEditablePosition(u.start)),f=t.clearRange(f,d,v)),f=t.insertStringAtPosition(f,h,d),(d+=g)>=r.length?d=r.length:d<a.length&&!g?d=a.length:d>=a.length&&d<l&&g&&(d=t.getRightEditablePosition(d)),{value:f=t.formatValue(f),enteredString:h,selection:{start:d,end:d}}},this.maskOptions=function(e){var t=e.mask,n=e.maskPlaceholder,i=[];if(!t)return{maskPlaceholder:null,mask:null,prefix:null,lastEditablePosition:null,permanents:[]};if("string"==typeof t){var r=!1,a="";t.split("").forEach(function(e){r||"\\"!==e?(!r&&h[e]||i.push(a.length),a+=e,r=!1):r=!0}),t=a.split("").map(function(e,t){return -1===i.indexOf(t)?h[e]:e})}else t.forEach(function(e,t){"string"==typeof e&&i.push(t)});n&&(n=1===n.length?t.map(function(e,t){return -1!==i.indexOf(t)?e:n}):n.split(""),i.forEach(function(e){n[e]=t[e]}),n=n.join(""));for(var l=i.filter(function(e,t){return e===t}).map(function(e){return t[e]}).join(""),o=t.length-1;-1!==i.indexOf(o);)o--;return{maskPlaceholder:n,prefix:l,mask:t,lastEditablePosition:o,permanents:i}}(e)},v=["alwaysShowMask","children","mask","maskPlaceholder","beforeMaskedStateChange"],d=e.forwardRef(function(r,o){var s=r.alwaysShowMask,h=r.children,d=r.mask,m=r.maskPlaceholder,p=r.beforeMaskedStateChange,k=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(r,v);n1=r.mask,i1=r.maskPlaceholder,n1&&i1&&1!==i1.length&&i1.length!==n1.length&&t(!1);var n1,i1,b,E=new g({mask:d,maskPlaceholder:m}),S=!!d,C=!k.disabled&&!k.readOnly,w=null!==r.value&&void 0!==r.value,V=(b=e.useRef(),e.useEffect(function(){b.current=S}),b.current),y=c(""+((w?r.value:r.defaultValue)||""),S),O=y.inputRef,L=y.getInputState,A=y.setInputState,R=y.getLastInputState,x=u(O);if(S&&w){var M=x(),D=M&&a(M)||s||r.value?E.formatValue(r.value):r.value;p&&(D=p({nextState:{value:D,selection:{start:null,end:null}}}).value),A(n({},R(),{value:D}))}var j=R(),I=j.selection,q=j.value;e.useLayoutEffect(function(){if(S){var e=x();if(e){var t=a(e),r=L(),l=n({},r);if(!w){var o=r.value,u=E.formatValue(o),c=E.isValueEmpty(u);!c||t||s?l.value=u:c&&!t&&(l.value="")}t&&!V?l.selection=E.getDefaultSelectionForValue(l.value):w&&t&&I&&null!==I.start&&null!==I.end&&(l.selection=I),p&&(l=p({currentState:r,nextState:l})),A(l)}}});var B=function(e){O.current=e,"function"!=typeof o?null!==o&&"object"==typeof o&&(o.current=e):o(e)},T=n({},k,{onFocus:function(e){O.current=e.target;var t=L().value;if(S&&!E.isValueFilled(t)){var n=E.formatValue(t),a=E.getDefaultSelectionForValue(n),l={value:n,selection:a};p&&(n=(l=p({currentState:L(),nextState:l})).value,a=l.selection),A(l),n!==t&&r.onChange&&r.onChange(e),i(function(){A(R())})}r.onFocus&&r.onFocus(e)},onBlur:function(e){var t=L().value,n=R().value;if(S&&!s&&E.isValueEmpty(n)){var i="",a={value:i,selection:{start:null,end:null}};p&&(i=(a=p({currentState:L(),nextState:a})).value),A(a),i!==t&&r.onChange&&r.onChange(e)}r.onBlur&&r.onBlur(e)},onChange:S&&C?function(e){var t=L(),n=R(),i=E.processChange(t,n);p&&(i=p({currentState:t,previousState:n,nextState:i})),A(i),r.onChange&&r.onChange(e)}:r.onChange,onMouseDown:S&&C?function(e){var t=x();if(t){var i=L().value,o=l(t);if(!a(t)&&!E.isValueFilled(i)){var u=e.clientX,s=e.clientY,c=(new Date).getTime();o.addEventListener("mouseup",function e(i){if(o.removeEventListener("mouseup",e),a(t)){var f=Math.max(Math.abs(i.clientX-u),Math.abs(i.clientY-s)),h=(new Date).getTime()-c;if(f<=10&&h<=200||f<=5&&h<=300){var g=R();A(n({},g,{selection:E.getDefaultSelectionForValue(g.value)}))}}})}r.onMouseDown&&r.onMouseDown(e)}}:r.onMouseDown,value:S&&w?q:r.value});if(h){f.filter(function(t){return null!=h.props[t]&&h.props[t]!==r[t]}).length&&t(!1);var N=e.Children.only(h);return e.cloneElement(N,n({},T,{ref:B}))}return e.createElement("input",n({ref:B},T))});d.displayName="InputMask",d.defaultProps={alwaysShowMask:!1,maskPlaceholder:"_"},module.exports=d},"./src/components/form/PhoneInput/index.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultRusCountry:()=>DefaultRusCountry,MultiCountry:()=>MultiCountry,MultiCountryWithUnknown:()=>MultiCountryWithUnknown,__namedExportsOrder:()=>__namedExportsOrder,default:()=>index_stories});var _templateObject,_templateObject2,_templateObject3,objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),react_input_mask=__webpack_require__("./node_modules/@mona-health/react-input-mask/index.js"),react_input_mask_default=/*#__PURE__*/__webpack_require__.n(react_input_mask),taggedTemplateLiteral=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),CountrySelectWrapper=styled_components_browser_esm.Ay.div(_templateObject||(_templateObject=(0,taggedTemplateLiteral.A)(["\n    padding-left: 20px;\n    width: 100%;\n"]))),InputLabelContent=styled_components_browser_esm.Ay.div(_templateObject2||(_templateObject2=(0,taggedTemplateLiteral.A)(["\n    position: relative;\n"]))),InputLabelFloatWrapper=styled_components_browser_esm.Ay.div(_templateObject3||(_templateObject3=(0,taggedTemplateLiteral.A)(["\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    pointer-events: none;\n    display: flex;\n    align-items: center;\n"]))),classCallCheck=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),createClass=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createClass.js"),allCountriesPhoneRules={BLR:{placeholder:"+375 XX XXX-XX-XX",mask:"+999 99 999-99-99",startSubsequence:"375",regexp:/^(\+?375)?(24|25|29|33|44)\d{7}$/,flag:"BLR"},AZE:{placeholder:"+994 (XX) XXX-XXXX",mask:"+999 (99) 999-9999",startSubsequence:"994",regexp:/^\+?994\d{9}$/,flag:"AZE"},ARM:{placeholder:"+374 (XX) XXX-XXX",mask:"+999 (99) 999-999",startSubsequence:"374",regexp:/\+?374\d{8}/,flag:"ARM"},KAZ:{placeholder:"+7 (XXX) XXX-XX-XX",mask:"+9 (999) 999-99-99",startSubsequence:"77",regexp:/^77\d{9}$/,flag:"KAZ"},RUS:{placeholder:"+7 (XXX) XXX-XX-XX",mask:"+9 (999) 999-99-99",startSubsequence:"7",regexp:/^\+?7(9\d{9})$/,flag:"RUS"},KGZ:{placeholder:"+996 XXX-XX-XX-XX",mask:"+999 999-99-99-99",startSubsequence:"996",regexp:/\+?996\d{9}/,flag:"KGZ"},TJK:{placeholder:"+992-XX-XXX-XXXX",mask:"+999-99-999-9999",startSubsequence:"992",regexp:/^\+?992\d{9}$/,flag:"TJK"},UZB:{placeholder:"+998 XX XXXXXXX",mask:"+999 99 9999999",startSubsequence:"998",regexp:/\+?998\d{9}/,flag:"UZB"},UNKNOWN:{placeholder:"",mask:"+999999999999999999",startSubsequence:"",regexp:/^\d{7,}$/,flag:"UNKNOWN"}},phoneInputLogic=new/*#__PURE__*/(function(){function PhoneInputLogic(){(0,classCallCheck.A)(this,PhoneInputLogic)}return(0,createClass.A)(PhoneInputLogic,[{key:"getCaretPositionByRusValue",value:function getCaretPositionByRusValue(value){var mask=allCountriesPhoneRules.RUS.mask.split(""),counter=0,position=0;return mask.forEach(function(maskItem,index){"9"===maskItem&&(counter+=1)===value.length&&(position=index+1)}),position}},{key:"getIsValidPhoneInputByCountry",value:function getIsValidPhoneInputByCountry(value,country){return!!value.match(country.regexp)}},{key:"getSupportedCountriesByCountryNames",value:function getSupportedCountriesByCountryNames(countries){return null==countries?void 0:countries.filter(function(country){return allCountriesPhoneRules[country]})}},{key:"getCountriesSelectOptions",value:function getCountriesSelectOptions(countries){var supportedCountries=null==countries?void 0:countries.filter(function(country){return allCountriesPhoneRules[country.value]});return null==supportedCountries?void 0:supportedCountries.map(function(country){var countryRules=allCountriesPhoneRules[country.value];return(0,objectSpread2.A)((0,objectSpread2.A)({},country),{},{description:countryRules.startSubsequence?"+".concat(countryRules.startSubsequence):"",flag:countryRules.flag})})}},{key:"getIsHaveCountriesSelectOptions",value:function getIsHaveCountriesSelectOptions(countrySelectOptions){return!!(null!=countrySelectOptions&&countrySelectOptions.length)}},{key:"getCountriesPhoneRulesBySelectOptions",value:function getCountriesPhoneRulesBySelectOptions(countrySelectOptions){return this.getIsHaveCountriesSelectOptions(countrySelectOptions)?Object.fromEntries(Object.entries(allCountriesPhoneRules).filter(function(ruleItem){return null==countrySelectOptions?void 0:countrySelectOptions.find(function(countrySelectOption){return countrySelectOption.value===ruleItem[0]})})):{RUS:allCountriesPhoneRules.RUS}}},{key:"getCountriesPhoneRulesByCountryNames",value:function getCountriesPhoneRulesByCountryNames(countrySelectOptions){return this.getIsHaveCountriesSelectOptions(countrySelectOptions)?Object.fromEntries(Object.entries(allCountriesPhoneRules).filter(function(ruleItem){return null==countrySelectOptions?void 0:countrySelectOptions.find(function(countrySelectOption){return countrySelectOption===ruleItem[0]})})):{RUS:allCountriesPhoneRules.RUS}}},{key:"getIsHaveStartSequenceInString",value:function getIsHaveStartSequenceInString(value,subsequence){return value.startsWith(subsequence)}},{key:"formatRusPhoneToUnifiedView",value:function formatRusPhoneToUnifiedView(value,moveCaret){var result=value;if("8"===value[0]&&(result="7".concat(value.slice(1))),"9"===value[0]){var newValue="79".concat(value.slice(1));result=newValue,moveCaret&&moveCaret(this.getCaretPositionByRusValue(newValue))}return result}},{key:"getOnlyNumbersFromString",value:function getOnlyNumbersFromString(value){var _value$match;return(null===(_value$match=value.match(/\d/g))||void 0===_value$match?void 0:_value$match.join(""))||""}},{key:"moveCaretByValue",value:function moveCaretByValue(event){return function(positionCaret){setTimeout(function(){event.target.setSelectionRange(positionCaret,positionCaret)},0)}}},{key:"getIsNeedChangeCountry",value:function getIsNeedChangeCountry(inputValue,currentCountry,newCountry){return newCountry&&currentCountry.startSubsequence!==newCountry[1].startSubsequence&&inputValue&&("UNKNOWN"!==newCountry[0]||!this.getIsHaveStartSequenceInString(inputValue,currentCountry.startSubsequence))}}])}()),useValidateInitialValue=function useValidateInitialValue(initialValue,currentCountriesPhoneRules,onValid,onUnValid){var _useState=(0,react.useState)(!1),_useState2=(0,slicedToArray.A)(_useState,2),isInitialValidateDone=_useState2[0],setIsInitialValidateDone=_useState2[1];(0,react.useEffect)(function(){if(!isInitialValidateDone){if(initialValue){var notFormattedValue=phoneInputLogic.getOnlyNumbersFromString(initialValue),currentCountry=Object.entries(currentCountriesPhoneRules).find(function(item){return phoneInputLogic.getIsHaveStartSequenceInString(notFormattedValue,item[1].startSubsequence)}),countryCode=currentCountry?currentCountry[0]:"RUS";phoneInputLogic.getIsValidPhoneInputByCountry(notFormattedValue,currentCountry?currentCountry[1]:allCountriesPhoneRules.RUS)?onValid(notFormattedValue,countryCode):onUnValid(countryCode)}setIsInitialValidateDone(!0)}},[isInitialValidateDone])},useInputFocus=__webpack_require__("./src/hooks/useInputFocus/index.ts"),InputLabel=__webpack_require__("./src/components/form/InputLabel/index.tsx"),PureInput=__webpack_require__("./src/components/form/PureInput/index.tsx"),CountrySelect=__webpack_require__("./src/components/form/CountrySelect/index.tsx"),useMedia=__webpack_require__("./src/hooks/useMedia/index.ts"),constants=__webpack_require__("./src/components/form/constants.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),PhoneInput=function PhoneInput(_ref){var onBlur=_ref.onBlur,name=_ref.name,onFocus=_ref.onFocus,countrySelectProps=_ref.countrySelectProps,value=_ref.value,onChange=_ref.onChange,hasError=_ref.hasError,label=_ref.label,disabled=_ref.disabled,id=_ref.id,countries=_ref.countries,onCountryChange=_ref.onCountryChange,pureInputProps=_ref.pureInputProps,_ref$size=_ref.size,inputRef=(0,react.useRef)(),isMobile=(0,useMedia.Iu)(),countrySelectOptions=(0,react.useMemo)(function(){return phoneInputLogic.getCountriesSelectOptions(countries)},[countries]),isHaveSelectCountries=(0,react.useMemo)(function(){return phoneInputLogic.getIsHaveCountriesSelectOptions(countrySelectOptions)},[countrySelectOptions]),currentCountriesPhoneRules=(0,react.useMemo)(function(){return phoneInputLogic.getCountriesPhoneRulesBySelectOptions(countrySelectOptions)},[countrySelectOptions]),_useInputFocus=(0,useInputFocus.m)({onFocus:onFocus,onBlur:onBlur}),inFocus=_useInputFocus.inFocus,focusHandler=_useInputFocus.handleFocus,blurHandler=_useInputFocus.handleBlur,_useState=(0,react.useState)(!1),_useState2=(0,slicedToArray.A)(_useState,2),isHaveInputError=_useState2[0],setIsHaveInputError=_useState2[1],_useState3=(0,react.useState)(!0),_useState4=(0,slicedToArray.A)(_useState3,2),isFirstBlur=_useState4[0],setIsFirstBlur=_useState4[1],_useState5=(0,react.useState)(value),_useState6=(0,slicedToArray.A)(_useState5,2),inputValue=_useState6[0],setInputValue=_useState6[1],_useState7=(0,react.useState)("RUS"),_useState8=(0,slicedToArray.A)(_useState7,2),country=_useState8[0],setCountry=_useState8[1],handleChangeCountry=(0,react.useCallback)(function(countryCode){setCountry(countryCode),onCountryChange&&onCountryChange(countryCode)},[onCountryChange]);useValidateInitialValue(value,currentCountriesPhoneRules,(0,react.useCallback)(function(currentInputValue,countryCode){onChange(currentInputValue),setIsHaveInputError(!1),setCountry(countryCode)},[onChange]),(0,react.useCallback)(function(countryCode){onChange(""),setIsHaveInputError(!0),setCountry(countryCode)},[onChange]));var getNewCountryByInputValue=(0,react.useCallback)(function(currentValue){var currentCountry=currentCountriesPhoneRules[country],newCountry=Object.entries(currentCountriesPhoneRules).find(function(item){return phoneInputLogic.getIsHaveStartSequenceInString(currentValue,item[1].startSubsequence)}),isNeedAndCanChangeCountry=phoneInputLogic.getIsNeedChangeCountry(currentValue,currentCountry,newCountry)&&!!newCountry;return isNeedAndCanChangeCountry&&handleChangeCountry(newCountry[0]),isNeedAndCanChangeCountry?newCountry[1]:currentCountry},[country,currentCountriesPhoneRules,handleChangeCountry]),getIsValidValue=(0,react.useCallback)(function(currentValue){var currentCountry=getNewCountryByInputValue(currentValue);return phoneInputLogic.getIsValidPhoneInputByCountry(currentValue,currentCountry)},[getNewCountryByInputValue]),handleInputValueChange=(0,react.useCallback)(function(currentInputValue,event){var notFormattedValue=phoneInputLogic.getOnlyNumbersFromString(currentInputValue),moveCaret=event?phoneInputLogic.moveCaretByValue(event):void 0,intermediateValue="RUS"===country?phoneInputLogic.formatRusPhoneToUnifiedView(notFormattedValue,moveCaret):notFormattedValue,isValidInputValue=getIsValidValue(intermediateValue);setIsHaveInputError(!isValidInputValue),onChange(isValidInputValue?intermediateValue:""),setInputValue(intermediateValue)},[country,getIsValidValue,onChange]),handleChange=(0,react.useCallback)(function(event){handleInputValueChange(event.target.value,event)},[handleInputValueChange]),handleBlur=(0,react.useCallback)(function(event){blurHandler(event),isFirstBlur&&setIsFirstBlur(!1)},[isFirstBlur,blurHandler]),handleCountryChange=(0,react.useCallback)(function(countryValue){handleChangeCountry(countryValue);var currentCountry=currentCountriesPhoneRules[countryValue],isValidInputValue=phoneInputLogic.getIsValidPhoneInputByCountry(inputValue,currentCountry);setIsFirstBlur(!1),setIsHaveInputError(!isValidInputValue),onChange(isValidInputValue?inputValue:""),setTimeout(function(){var _inputRef$current;null===(_inputRef$current=inputRef.current)||void 0===_inputRef$current||_inputRef$current.focus()},0)},[currentCountriesPhoneRules,handleChangeCountry,inputValue,onChange]),handlePaste=(0,react.useCallback)(function(event){event.preventDefault(),handleInputValueChange(event.clipboardData.getData("Text").trim())},[handleInputValueChange]);return/*#__PURE__*/(0,jsx_runtime.jsx)(InputLabel.l,{inFocus:inFocus,label:label,disabled:disabled,children:/*#__PURE__*/(0,jsx_runtime.jsxs)(InputLabelContent,{children:[!!(null!=countrySelectOptions&&countrySelectOptions.length)&&/*#__PURE__*/(0,jsx_runtime.jsx)(InputLabelFloatWrapper,{children:/*#__PURE__*/(0,jsx_runtime.jsx)(CountrySelectWrapper,{children:/*#__PURE__*/(0,jsx_runtime.jsx)(CountrySelect.b,{minWidth:isMobile?"100%":"350px",options:countrySelectOptions,onChange:handleCountryChange,value:country,placeholder:(null==countrySelectProps?void 0:countrySelectProps.placeholder)||"",positionVertical:16,positionRight:"0",positionLeft:"-20px",disabled:disabled,selectedLabel:(null==countrySelectProps?void 0:countrySelectProps.selectedLabel)||""})})}),/*#__PURE__*/(0,jsx_runtime.jsx)(react_input_mask_default(),{value:inputValue,onFocus:focusHandler,onBlur:handleBlur,onChange:handleChange,mask:currentCountriesPhoneRules[country].mask,maskPlaceholder:null,disabled:disabled,onPaste:handlePaste,placeholder:currentCountriesPhoneRules[country].placeholder,ref:inputRef,children:/*#__PURE__*/(0,jsx_runtime.jsx)(PureInput.d,(0,objectSpread2.A)((0,objectSpread2.A)({id:id,hasError:hasError||!isFirstBlur&&isHaveInputError,inFocus:inFocus,name:name,paddingLeft:isHaveSelectCountries?75:18,autoComplete:"off",inputMode:"numeric"},constants.f[void 0===_ref$size?"M":_ref$size]),pureInputProps))})]})})};try{PhoneInput.displayName="PhoneInput",PhoneInput.__docgenInfo={description:"",displayName:"PhoneInput",props:{label:{defaultValue:null,description:"",name:"label",required:!0,type:{name:"string"}},countrySelectProps:{defaultValue:null,description:"",name:"countrySelectProps",required:!1,type:{name:'Pick<TProps, "placeholder" | "selectedLabel">'}},onCountryChange:{defaultValue:null,description:"",name:"onCountryChange",required:!1,type:{name:"((countryCode: string) => void)"}},countries:{defaultValue:null,description:"",name:"countries",required:!1,type:{name:'{ label: string; value: "RUS" | "BLR" | "KAZ" | "AZE" | "ARM" | "KGZ" | "TJK" | "UZB" | "UNKNOWN"; }[]'}},pureInputProps:{defaultValue:null,description:"",name:"pureInputProps",required:!1,type:{name:'Pick<TProps, "autoFocus" | "paddingTop" | "paddingBottom">'}},size:{defaultValue:{value:"M"},description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"M"'},{value:'"L"'},{value:'"XS"'}]}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: string) => void"}},hasError:{defaultValue:null,description:"",name:"hasError",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/form/PhoneInput/index.tsx#PhoneInput"]={docgenInfo:PhoneInput.__docgenInfo,name:"PhoneInput",path:"src/components/form/PhoneInput/index.tsx#PhoneInput"})}catch(__react_docgen_typescript_loader_error){}let index_stories={title:"form/PhoneInput",component:PhoneInput,tags:["autodocs"],argTypes:{onBlur:{action:"onBlur"},onFocus:{action:"onFocus"},onCountryChange:{action:"onCountryChange"}}};var Component=function Component(props){var _useState=(0,react.useState)("37411800000"),_useState2=(0,slicedToArray.A)(_useState,2),value=_useState2[0],setValue=_useState2[1];return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("p",{children:["Значение: ",/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:value})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{width:400},children:/*#__PURE__*/(0,jsx_runtime.jsx)(PhoneInput,(0,objectSpread2.A)((0,objectSpread2.A)({},props),{},{value:value,onChange:setValue}))})]})},commonProps={disabled:!1,label:"Телефон",size:"L"},MultiCountry={args:(0,objectSpread2.A)((0,objectSpread2.A)({},commonProps),{},{countries:[{label:"Россия",value:"RUS"},{label:"Армения",value:"ARM"},{label:"Белорусь",value:"BLR"},{label:"Казахстан",value:"KAZ"},{label:"Кыргызстан",value:"KGZ"},{label:"Азербайджан",value:"AZE"},{label:"Такджикистан",value:"TJK"},{label:"Узбекистан",value:"UZB"}]}),render:Component},MultiCountryWithUnknown={args:(0,objectSpread2.A)((0,objectSpread2.A)({},commonProps),{},{countries:[{label:"Россия",value:"RUS"},{label:"Казахстан",value:"KAZ"},{label:"Армения",value:"ARM"},{label:"Белорусь",value:"BLR"},{label:"Другая",value:"UNKNOWN"}]}),render:Component},DefaultRusCountry={args:commonProps,render:Component};MultiCountry.parameters={...MultiCountry.parameters,docs:{...MultiCountry.parameters?.docs,source:{originalSource:"{\n  args: {\n    ...commonProps,\n    countries: [{\n      label: 'Россия',\n      value: 'RUS'\n    }, {\n      label: 'Армения',\n      value: 'ARM'\n    }, {\n      label: 'Белорусь',\n      value: 'BLR'\n    }, {\n      label: 'Казахстан',\n      value: 'KAZ'\n    }, {\n      label: 'Кыргызстан',\n      value: 'KGZ'\n    }, {\n      label: 'Азербайджан',\n      value: 'AZE'\n    }, {\n      label: 'Такджикистан',\n      value: 'TJK'\n    }, {\n      label: 'Узбекистан',\n      value: 'UZB'\n    }]\n  },\n  render: Component\n}",...MultiCountry.parameters?.docs?.source}}},MultiCountryWithUnknown.parameters={...MultiCountryWithUnknown.parameters,docs:{...MultiCountryWithUnknown.parameters?.docs,source:{originalSource:"{\n  args: {\n    ...commonProps,\n    countries: [{\n      label: 'Россия',\n      value: 'RUS'\n    }, {\n      label: 'Казахстан',\n      value: 'KAZ'\n    }, {\n      label: 'Армения',\n      value: 'ARM'\n    }, {\n      label: 'Белорусь',\n      value: 'BLR'\n    }, {\n      label: 'Другая',\n      value: 'UNKNOWN'\n    }]\n  },\n  render: Component\n}",...MultiCountryWithUnknown.parameters?.docs?.source}}},DefaultRusCountry.parameters={...DefaultRusCountry.parameters,docs:{...DefaultRusCountry.parameters?.docs,source:{originalSource:"{\n  args: commonProps,\n  render: Component\n}",...DefaultRusCountry.parameters?.docs?.source}}};let __namedExportsOrder=["MultiCountry","MultiCountryWithUnknown","DefaultRusCountry"]},"./node_modules/invariant/browser.js":module=>{"use strict";module.exports=function(condition,format,a,b,c,d,e,f){if(!condition){var error;if(void 0===format)error=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var args=[a,b,c,d,e,f],argIndex=0;(error=Error(format.replace(/%s/g,function(){return args[argIndex++]}))).name="Invariant Violation"}throw error.framesToPop=1,error}}},"./src/hooks/useMedia/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Iu:()=>useMobile,Xu:()=>useLargeTablet,b6:()=>useMiniLaptop,mW:()=>useTablet});var react_responsive__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react-responsive/dist/react-responsive.js"),_breakpoints__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/breakpoints/index.ts"),useMobile=function useMobile(){return(0,react_responsive__WEBPACK_IMPORTED_MODULE_1__.useMediaQuery)({query:_breakpoints__WEBPACK_IMPORTED_MODULE_0__.f.sm})},useTablet=function useTablet(){return(0,react_responsive__WEBPACK_IMPORTED_MODULE_1__.useMediaQuery)({query:_breakpoints__WEBPACK_IMPORTED_MODULE_0__.f.md})},useLargeTablet=function useLargeTablet(){return(0,react_responsive__WEBPACK_IMPORTED_MODULE_1__.useMediaQuery)({query:_breakpoints__WEBPACK_IMPORTED_MODULE_0__.f.ld})},useMiniLaptop=function useMiniLaptop(){return(0,react_responsive__WEBPACK_IMPORTED_MODULE_1__.useMediaQuery)({query:_breakpoints__WEBPACK_IMPORTED_MODULE_0__.f.xl})}},"./node_modules/warning/warning.js":module=>{"use strict";module.exports=function(){}}}]);